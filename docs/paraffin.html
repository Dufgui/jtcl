<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 23, 2015 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
    <title></title>
    <style type="text/css" media="all">
      @import url("../css/maven-base.css");
      @import url("../css/maven-theme.css");
      @import url("../css/site.css");
    </style>
    <link rel="stylesheet" href="../css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20150723" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                        <a href="https://jtcl-project.github.io/jtcl/" id="bannerLeft">
                                                <img src="../images/jtcl-horz-med.png" alt="JTcl" />
                </a>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2015-07-23</span>
                  &nbsp;| <span id="projectVersion">Version: 2.8.0</span>
                      </div>
            <div class="xright">                    <a href="http://www.tcl.tk/" class="externalLink" title="Tcl">Tcl</a>
            |
                        <a href="http://www.oracle.com/technetwork/java/index.html" class="externalLink" title="Java">Java</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>JTcl Links</h5>
                  <ul>
                  <li class="none">
                          <a href="https://github.com/jtcl-project/jtcl/releases" class="externalLink" title="Download">Download</a>
            </li>
                  <li class="none">
                          <a href="../news.html" title="News">News</a>
            </li>
                  <li class="none">
                          <a href="../gettingstarted.html" title="Getting Started">Getting Started</a>
            </li>
                  <li class="none">
                          <a href="../docs/index.html" title="Documentation">Documentation</a>
            </li>
                  <li class="none">
                          <a href="../faq.html" title="FAQ">FAQ</a>
            </li>
                  <li class="none">
                          <a href="../projects.html" title="Projects Using JTcl">Projects Using JTcl</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/jtcl-project/jtcl/issues" class="externalLink" title="Bugs">Bugs</a>
            </li>
                  <li class="none">
                          <a href="https://groups.google.com/forum/#!forum/jtcl-project" class="externalLink" title="Mailing Lists">Mailing Lists</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/jtcl-project/jtcl/" class="externalLink" title="Source Code">Source Code</a>
            </li>
                  <li class="none">
                          <a href="https://github.com/jtcl-project/jtcl" class="externalLink" title="Project Page">Project Page</a>
            </li>
                  <li class="none">
                          <a href="../licenses.html" title="License">License</a>
            </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>paraffin.tcl<a name="paraffin.tcl"></a></h2><!-- ~~ --><p><b>paraffin.tcl</b> is a command line utitlity to build a custom JAR file which includes the JTcl interpreter, an application, and other library JAR files. paraffin.tcl is included in the JTcl distribution.</p></div><div class="section"><h2>Usage<a name="Usage"></a></h2><div class="source"><pre>    jtcl paraffin.tcl [ -i ]  app-name  source-directory  start-file  [ jar-directory ]</pre></div><p>where:</p><ul><li>-i <br />is an optional flag to cause a <b>tclIndex</b> file to be built in the source-directory.</li><li>app-name <br />is the name of the resulting JAR file.</li><li>source-directory <br />is the directory containing application source files.</li><li>start-file <br />is the name of the file within the source-directory that should be executed upon startup.</li><li>jarlib-directory <br />is an optional directory containing additional JAR files to be included. </li></ul><p>The resulting JAR file can be executed by specifying the <b>-jar</b> option to the <b>java</b> command:</p><div class="source"><pre>    java -jar app-name.jar</pre></div></div><div class="section"><h2>Example<a name="Example"></a></h2><p>Consider an application that contains a main file, a file containing some utility procedures, and a library of Tcl packages, with a directory structure as</p><div class="source"><pre>    ./myapp_dir
       main.tcl
       misc-procs.tcl
       tclIndex
       lib
          package1
              pkgIndex.tcl
              package1.tcl
          package2
              pkgIndex.tcl
              package2.tcl</pre></div><p>main.tcl contains the following code:</p><div class="source"><pre>    # get our directory and append our packages to auto_path
    set startup_dir [file dirname $::argv0]
    lappend auto_path $startup_dir
    lappend auto_path [file join $startup_dir lib package1]
    lappend auto_path [file join $startup_dir lib package2]
    
    package require package1
    package require package2

    # now execute our startup code
    ...etc...</pre></div><p>A stand-alone JAR file can be built and run using paraffin.tcl as:</p><div class="source"><pre>    jtcl paraffin.tcl -i my-app myapp_dir main.tcl
    java -jar my-app.jar</pre></div></div><div class="section"><h2>Notes<a name="Notes"></a></h2><ul><li>The Tcl variable <b>::argv0</b> is set to the name of the startup script witin the JAR file. </li><li>Develop and test your application in your source-directory. Your application should be able to run by cd'ing to the application directory and running <b>jtcl start-file</b> before packaging it with paraffin.tcl.</li><li>Additional <b>::auto_path</b> directory names can be included as shown in the example.</li><li>Additional Java JAR libraries can be included. Each JAR file found in the optional <i>jar-directory</i> path will be included in the final appliation JAR file. Additional JAR files are typically used from your application through use of the <b>java</b> package. For example, your application may include Java JDBC drivers, etc.</li><li>Use the optional <b>-i</b> flag to rebuild the <b>tclIndex</b> file for the application prior to packaging.</li><li>paraffin.tcl will not overwrite an existing JAR file of the same name.</li></ul></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2015.
          All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
